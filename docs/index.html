<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Positive Perspective - あなたの思考を前向きに変換</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Positive Perspective</h1>
            <p class="subtitle">あなたの思考を前向きに変換します</p>
        </header>
        
        <main>
            <!-- APIキー入力セクション -->
            <div id="apiKeySection" class="api-key-section">
                <div class="api-key-card">
                    <h2>🔑 はじめに</h2>
                    <p>このアプリを使用するには、Google Gemini APIキーが必要です。</p>
                    <ol class="setup-steps">
                        <li><a href="https://aistudio.google.com/app/apikey" target="_blank">Google AI Studio</a>でAPIキーを取得</li>
                        <li>下のフィールドにAPIキーを入力</li>
                        <li>「開始」をクリック</li>
                    </ol>
                    <div class="api-key-input-group">
                        <input type="password" id="apiKeyInput" placeholder="APIキーを入力..." class="api-key-input">
                        <button id="saveApiKeyBtn" class="save-btn">開始</button>
                    </div>
                    <p class="security-note">
                        🔒 APIキーはブラウザのローカルストレージに保存され、外部には送信されません
                    </p>
                </div>
            </div>

            <!-- メインアプリセクション -->
            <div id="mainApp" class="hidden">
                <div class="input-section">
                    <label for="textInput">あなたの気持ちを教えてください:</label>
                    <textarea 
                        id="textInput" 
                        placeholder="心の中にあることを何でも入力してください..."
                        rows="4"
                        maxlength="5000"
                    ></textarea>
                    <div class="char-counter">
                        <span id="charCount">0</span> / 5000 文字
                    </div>
                    <button id="submitBtn" type="button">
                        <span>変換する</span>
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 2v20M2 12h20M5 5l14 14M19 5L5 19" opacity="0.3"/>
                            <circle cx="12" cy="12" r="3"/>
                        </svg>
                    </button>
                    
                    <!-- Loading indicator -->
                    <div id="loadingIndicator" class="loading-indicator hidden">
                        <div class="loading-spinner"></div>
                        <p>あなたの気持ちを前向きに変換中...</p>
                    </div>
                    
                    <!-- Error message -->
                    <div id="errorMessage" class="error-message hidden"></div>
                    
                    <!-- Success indicator -->
                    <div id="successMessage" class="success-message hidden">
                        ✨ 変換が完了しました！
                    </div>
                </div>
                
                <div id="outputSection" class="output-section hidden">
                    <h2>前向きな視点:</h2>
                    <div id="outputText" class="output-text"></div>
                    <div class="action-buttons">
                        <button id="resetBtn" class="reset-btn" type="button">もう一度試す</button>
                        <button id="copyBtn" class="copy-btn" type="button">コピー</button>
                    </div>
                </div>

                <div class="settings-footer">
                    <button id="changeApiKeyBtn" class="change-key-btn">🔑 APIキーを変更</button>
                </div>
            </div>
        </main>
        
        <footer>
            <p>どんな視点にも明るい一面があります</p>
            <p class="github-note">
                <a href="https://github.com/kator-pixel/positive-text-app" target="_blank">GitHub</a> | 
                完全無料・オープンソース
            </p>
        </footer>
    </div>
    
    <script src="script.js"></script>
</body>
</html>